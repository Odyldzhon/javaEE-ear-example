<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:o="http://omnifaces.org/ui"
	  xmlns:of="http://omnifaces.org/functions">

	<ui:composition template="/catalog/templates/coreLayout.xhtml">
	
		<ui:define name="metadata">
			<f:metadata>
		        <f:viewParam name="name" value="#{ModifyAuthor.oldName}" />
		        <f:viewParam name="name" value="#{ModifyAuthor.name}" />
		        <f:viewParam name="surname" value="#{ModifyAuthor.oldSurname}" />
		        <f:viewParam name="surname" value="#{ModifyAuthor.surname}" />
		    </f:metadata>
		</ui:define>
		
	    <ui:define name="top">
           <h:link value="#{msgs.linkHome}" outcome="home"/>
           <h:outputText value=">" />
           <h:link value="#{msgs.linkListAuthors}" outcome="listAuthors"/>
           <h:outputText value=">" />
           <h:link value="#{msgs.linkAddAuthor}" outcome="addUpdateAuthor"/>
        </ui:define> 
        
        <ui:define name="content">
            <h:outputText value="#{(empty flash.result) ? '': msgs.actionDubAuthor}" 
            	style="color:red; margin:8px;"/>
        	<o:form includeRequestParams="true">
				<div>
					<h:outputText value="#{msgs.addButtonTitle}" />
					<h:commandButton
						action = "#{ModifyAuthor.addUpdateAuthor}" 
						value="#{(empty param.name) ? msgs.buttonCreate : msgs.buttonUpdate}"/>
				</div>
				<h:messages style="color:red;margin:8px;"/>
				<h:panelGrid columns="2">
					<h:outputText value="#{msgs.addAuthorFieldName}"/>
					<h:inputText value="#{ModifyAuthor.name}" required="true" 
						requiredMessage = "#{msgs.nameRequired}" />
					<h:outputText value="#{msgs.addAuthorFieldSurname}"/>
					<h:inputText value="#{ModifyAuthor.surname}" required="true"
						requiredMessage = "#{msgs.surnameRequired}"/>
				</h:panelGrid>
			</o:form>
        </ui:define>
	</ui:composition>
</html>